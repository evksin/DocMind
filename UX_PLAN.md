# DocMind UX Magic Plan — пошаговая реализация UX_MAGIC.md

Цель: создать ощущение «живого» ИИ во время анализа, плавные переходы и премиальный UX.

---

## Шаг 1: Страница «Анализ в процессе»

- Создать **analysis_loading.html** — экран ожидания анализа.
- Параметры из URL: `document_id`, `user_id`, `analysis_type`, `filename` (для отображения).
- Разметка: центрированная карточка, спиннер, имя файла, текст «Analyzing [filename]...».
- При загрузке страницы вызвать **POST /api/analyze** с этими параметрами.
- При успехе — редирект на **result.html?result_id=...&user_id=...**.
- При ошибке — показать сообщение и ссылку «Назад».

---

## Шаг 2: Ротация сообщений на экране загрузки

- На **analysis_loading.html** показывать сменяющиеся фразы каждые 1–2 сек:
  - "Reading document..."
  - "Extracting key points..."
  - "Understanding context..."
  - "Generating summary..."
  - "Checking for risks..."
- Реализовать через `setInterval` и массив строк (на русском или английском по желанию).
- Оформление в том же стиле, что и остальные экраны (Tailwind, карточка).

---

## Шаг 3: Переключение потоков на экран загрузки

- **upload.html**: после успешной загрузки файла не вызывать `/api/analyze` напрямую, а делать редирект на **analysis_loading.html?document_id=...&user_id=...&analysis_type=...&filename=...**.
- **analyze.html**: по нажатию «Анализировать» не вызывать `/api/analyze` напрямую, а делать редирект на **analysis_loading.html** с теми же параметрами.
- Анализ выполняется только на **analysis_loading.html**, редирект на результат — после ответа API.

---

## Шаг 4: Микро-взаимодействия

- Кнопки: явные **hover** и **active** (например, `active:scale-[0.98]` или затемнение).
- Карточки: при наведении лёгкий подъём (**hover:shadow-md** или **hover:-translate-y-0.5**).
- Поля ввода: при фокусе лёгкое «свечение» (**focus:ring-2 focus:ring-blue-500** уже есть — проверить и усилить при необходимости).
- Добавить **transition duration-200 ease-in-out** к интерактивным элементам.

---

## Шаг 5: Дружелюбное пустое состояние (Dashboard)

- Когда документов нет: не только текст, а блок с иконкой/иллюстрацией (например, SVG-иконка документа или папки).
- Заголовок: «Нет документов» / «No documents yet».
- Подзаголовок: «Загрузите первый документ, чтобы начать» / «Upload your first document to get started».
- Кнопка/ссылка «Загрузить документ» — primary, рядом с текстом.

---

## Шаг 6: Плавный переход на результат

- После успешного ответа API на **analysis_loading.html** использовать **window.location.href** для перехода на result (без задержки — плавность за счёт того, что пользователь уже на отдельном экране загрузки).
- При желании добавить короткую задержку (300–500 ms) перед редиректом, чтобы показать финальное сообщение («Done!»), либо оставить мгновенный переход — по спецификации «smoothly redirect», без резких скачков.

---

## Шаг 7: Финальная проверка

- Пройти сценарии: загрузка + анализ → экран загрузки → результат; анализ существующего документа → экран загрузки → результат.
- Убедиться, что ошибки API отображаются на экране загрузки и не ломают навигацию.
- Проверить микро-взаимодействия и пустое состояние на всех разрешениях.

---

## Порядок выполнения

**1 → 2 → 3 → 4 → 5 → 6 → 7**

Не менять бэкенд; только фронтенд (HTML, JS, Tailwind).
